<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin - Help Desk UCB</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="dashboard-container">
    <header class="dashboard-header">
        <div class="logo">
            <h2>üéì Help Desk UCB</h2>
        </div>
        <div class="user-info">
            <span id="usuarioNome">Administrador</span>
        </div>
    </header>

    <aside class="sidebar">
        <nav>
            <ul>
                <li><a href="#" onclick="mostrarSecao('dashboard')" class="active">
                    üìä Dashboard
                </a></li>
                <li><a href="#" onclick="mostrarSecao('usuarios')">
                    üë• Usu√°rios
                </a></li>
                <li><a href="#" onclick="mostrarSecao('empresas')">
                    üè¢ Empresas
                </a></li>
                <li><a href="#" onclick="mostrarSecao('chamados')">
                    üé´ Chamados
                </a></li>
                <li><a href="#" onclick="mostrarSecao('atendimentos')">
                    üîß Atendimentos
                </a></li>
                <li><a href="#" onclick="mostrarSecao('logs')">
                    üìù Logs do Sistema
                </a></li>
            </ul>
        </nav>
    </aside>

    <main class="main-content">
        <section id="secao-dashboard" class="secao-ativa">
            <h3>Dashboard Administrativo</h3>

            <div class="stats-grid">
                <div class="stat-card">
                    <h4>Chamados Abertos</h4>
                    <p class="stat-number" id="stat-abertos">0</p>
                </div>
                <div class="stat-card">
                    <h4>Em Atendimento</h4>
                    <p class="stat-number" id="stat-atendimento">0</p>
                </div>
                <div class="stat-card">
                    <h4>Fechados Hoje</h4>
                    <p class="stat-number" id="stat-fechados">0</p>
                </div>
                <div class="stat-card">
                    <h4>Total de Usu√°rios</h4>
                    <p class="stat-number" id="stat-usuarios">0</p>
                </div>
            </div>

            <div class="recent-activity">
                <h4>Atividades Recentes</h4>
                <div id="logs-recentes" class="logs-list">
                    <p>Carregando...</p>
                </div>
            </div>
        </section>

        <section id="secao-usuarios" class="secao-oculta">
            <h3>Gerenciar Usu√°rios</h3>

            <div class="tabelas-container" id="lista-usuarios">

                <div class="tabela-wrapper">
                    <h4>Clientes</h4>
                    <table id="tabela-clientes">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>CPF do Cliente</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div class="tabela-wrapper">
                    <h4>T√©cnicos</h4>
                    <table id="tabela-tecnicos">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>Especialidade</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Empresas -->
        <section id="secao-empresas" class="secao-oculta">
            <h3>Gerenciar Empresas</h3>

            <div class="action-bar">
                <button onclick="mostrarFormNovaEmpresa()" class="btn-primary">
                    ‚ûï Nova Empresa
                </button>
            </div>

            <table id="tabela-empresas">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>CNPJ</th>
                    <th>A√ß√µes</th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Chamados -->
        <section id="secao-chamados" class="secao-oculta">
            <h3>Gerenciar Chamados</h3>

            <div class="filtros">
                <label>
                    Status:
                    <select id="filtro-status" onchange="carregarChamados()">
                        <option value="">Todos</option>
                        <option value="Aberto">Aberto</option>
                        <option value="Em Atendimento">Em Atendimento</option>
                        <option value="Fechado">Fechado</option>
                    </select>
                </label>
            </div>

            <table id="tabela-chamados">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>T√≠tulo</th>
                    <th>Cliente</th>
                    <th>T√©cnico</th>
                    <th>Status</th>
                    <th>Prioridade</th>
                    <th>Data Abertura</th>
                    <th>A√ß√µes</th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Atendimentos -->
        <section id="secao-atendimentos" class="secao-oculta">
            <h3>Registro de Atendimentos</h3>

            <div class="form-atendimento">
                <h4>Registrar Novo Atendimento</h4>
                <form id="form-atendimento">
                    <div class="form-group">
                        <label>ID do Chamado:</label>
                        <input type="number" id="atend-chamado-id" required>
                    </div>
                    <div class="form-group">
                        <label>ID do T√©cnico:</label>
                        <input type="number" id="atend-tecnico-id" required>
                    </div>
                    <div class="form-group">
                        <label>Descri√ß√£o do Atendimento:</label>
                        <textarea id="atend-descricao" required rows="4"></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Registrar</button>
                </form>
            </div>

            <div class="historico-atendimentos">
                <h4>Buscar Hist√≥rico de Atendimentos</h4>
                <input type="number" id="busca-chamado" placeholder="ID do Chamado">
                <button onclick="buscarHistorico()" class="btn-secondary">Buscar</button>

                <div id="resultado-historico"></div>
            </div>
        </section>

        <!-- Logs -->
        <section id="secao-logs" class="secao-oculta">
            <h3>Logs do Sistema (MongoDB)</h3>

            <div class="filtros">
                <label>
                    Tipo de Log:
                    <select id="filtro-tipo-log" onchange="carregarLogs()">
                        <option value="">Todos</option>
                        <option value="LOGIN">Login</option>
                        <option value="LOGOUT">Logout</option>
                        <option value="CHAMADO_ABERTO">Chamado Aberto</option>
                        <option value="CHAMADO_FECHADO">Chamado Fechado</option>
                        <option value="ATENDIMENTO_REGISTRADO">Atendimento</option>
                    </select>
                </label>

                <label>
                    Limite:
                    <select id="limite-logs" onchange="carregarLogs()">
                        <option value="50">50</option>
                        <option value="100">100</option>
                        <option value="200">200</option>
                    </select>
                </label>
            </div>

            <div id="lista-logs" class="logs-list"></div>
        </section>
    </main>
</div>

<script src="js/dashboard-admin.js"></script>
</body>
</html>